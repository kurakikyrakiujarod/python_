
# 使用numpy读写


```python
import numpy as np
```


```python
%%writefile tang.txt
1 2 3 4 5 6
2 3 4 5 6 7
```

    Overwriting tang.txt
    


```python
data = []

with open("tang.txt") as f:
    for line in f:
        fileds = line.split()
        cur_data = [float(x) for x in fileds]
        data.append(cur_data)

data = np.array(data)
print(data)      
```

    [[1. 2. 3. 4. 5. 6.]
     [2. 3. 4. 5. 6. 7.]]
    


```python
data = np.loadtxt('tang.txt')
print(data)
```

    [[1. 2. 3. 4. 5. 6.]
     [2. 3. 4. 5. 6. 7.]]
    


```python
%%writefile tang2.txt
a,b,c,d,e,f
1,2,3,4,5,6
2,3,4,5,6,7
```

    Writing tang2.txt
    


```python
data = np.loadtxt('tang2.txt',delimiter=',',skiprows=1)
print(data)
```

    [[1. 2. 3. 4. 5. 6.]
     [2. 3. 4. 5. 6. 7.]]
    

* 'xxx.xxx'：路径最好放到和代码一起
* skiprows：去掉几行
* delimiter= ：分隔符
* usecols=（0，1，4）：指定使用哪几列


```python
tang_array = np.array([[1,2,3],[4,5,6]])
np.savetxt('tang3.txt',tang_array)
```


```python
np.savetxt('tang3.txt',tang_array,fmt='%d')
```


```python
np.savetxt('tang3.txt',tang_array,fmt='%d',delimiter=',')
```


```python
np.savetxt('tang3.txt',tang_array,fmt='%.2f',delimiter=',')
```

# 读写array结构


```python
tang_array = np.array([[1,2,3],[4,5,6]])
np.save('tang_array.npy',tang_array)
```


```python
tang = np.load('tang_array.npy')
print(tang)
```

    [[1 2 3]
     [4 5 6]]
    


```python
tang_array2 = np.arange(10)
print(tang_array2)
```

    [0 1 2 3 4 5 6 7 8 9]
    


```python
np.savez('tang.npz',a=tang_array,b=tang_array2)
```


```python
data = np.load('tang.npz')
```


```python
data.keys()
print(data.keys())
```

    ['a', 'b']
    


```python
print(data['a'])
```

    [[1 2 3]
     [4 5 6]]
    


```python
print(data['b'])
```

    [0 1 2 3 4 5 6 7 8 9]
    
