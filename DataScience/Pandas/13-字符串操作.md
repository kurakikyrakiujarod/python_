
# 字符串操作


```python
import pandas as pd
import numpy as np
```


```python
s = pd.Series(['A','b','B','gear','AGER',np.nan])
print(s)
```

    0       A
    1       b
    2       B
    3    gear
    4    AGER
    5     NaN
    dtype: object
    


```python
# 字符串转换为小写
print(s.str.lower())
```

    0       a
    1       b
    2       b
    3    gear
    4    ager
    5     NaN
    dtype: object
    


```python
# 字符串转换为大写
print(s.str.upper())
```

    0       A
    1       B
    2       B
    3    GEAR
    4    AGER
    5     NaN
    dtype: object
    


```python
# 字符串长度
print(s.str.len())
```

    0    1.0
    1    1.0
    2    1.0
    3    4.0
    4    4.0
    5    NaN
    dtype: float64
    


```python
index = pd.Index(['  tang',' yu  ','di  '])
print(index)
```

    Index(['  tang', ' yu  ', 'di  '], dtype='object')
    


```python
# str.strip() 去除字符串空格
print(index.str.strip())
```

    Index(['tang', 'yu', 'di'], dtype='object')
    


```python
print(index.str.lstrip())
```

    Index(['tang', 'yu  ', 'di  '], dtype='object')
    


```python
print(index.str.rstrip())
```

    Index(['  tang', ' yu', 'di'], dtype='object')
    


```python
df = pd.DataFrame(np.random.randn(3,2),columns=['A a','B b'],index=range(3))
print(df)
```

            A a       B b
    0  0.692662  0.203311
    1  0.233449 -1.024976
    2 -1.127630 -0.070782
    


```python
df.columns = df.columns.str.replace(' ','_')
print(df)
```

            A_a       B_b
    0  0.692662  0.203311
    1  0.233449 -1.024976
    2 -1.127630 -0.070782
    


```python
s = pd.Series(['a_b_C','c_d_e','f_g_h'])
print(s)
```

    0    a_b_C
    1    c_d_e
    2    f_g_h
    dtype: object
    


```python
# 字符串切分 .str.split()
print(s.str.split('_'))
```

    0    [a, b, C]
    1    [c, d, e]
    2    [f, g, h]
    dtype: object
    


```python
print(s.str.split('_',expand=True))
```

       0  1  2
    0  a  b  C
    1  c  d  e
    2  f  g  h
    


```python
print(s.str.split('_',expand=True,n=1))
```

       0    1
    0  a  b_C
    1  c  d_e
    2  f  g_h
    


```python
s = pd.Series(['A','Aas','fff','Age','not'])
print(s)
```

    0      A
    1    Aas
    2    fff
    3    Age
    4    not
    dtype: object
    


```python
# str.contains() 判断数据中是否包含某个字符串
print(s.str.contains('Aa'))
```

    0    False
    1     True
    2    False
    3    False
    4    False
    dtype: bool
    


```python
s = pd.Series(['a','a|b','a|c'])
print(s)
```

    0      a
    1    a|b
    2    a|c
    dtype: object
    


```python
# Series.str.get_dummies(sep=’|’)分割字符串并返回各个字符的复杂矩阵
print(s.str.get_dummies(sep='|'))
```

       a  b  c
    0  1  0  0
    1  1  1  0
    2  1  0  1
    
