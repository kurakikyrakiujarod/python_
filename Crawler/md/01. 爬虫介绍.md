


### 1. 什么是爬虫？

**网络爬虫**也叫**网络蜘蛛**，如果把互联网比喻成一个蜘蛛网，那么蜘蛛就是在网上爬来爬去的蜘蛛，爬虫程序通过请求url地址，根据响应的内容进行解析采集数据，比如：如果响应内容是html，分析dom结构，进行dom解析、或者正则匹配，如果响应内容是xml/json数据，就可以转数据对象，然后对数据进行解析。

### 2. 反爬虫

###   反爬虫一些手段：

* 合法检测：请求校验(useragent，referer，接口加签名，等)
* 小黑屋：IP/用户限制请求频率，或者直接拦截
* 投毒：反爬虫高境界可以不用拦截，拦截是一时的，投毒返回虚假数据，可以误导竞品决策
* ... ...



### 3. 爬虫基本套路

* 基本流程
    * 目标数据
    * 来源地址
    * 结构分析
    * 实现构思
    * 操刀编码
* 基本手段
    * 破解请求限制
        * 请求头设置，如：useragant为有效客户端
        * 控制请求频率(根据实际情景)
        * IP代理
        * 签名/加密参数从html/cookie/js分析
    * 破解登录授权
        * 请求带上用户cookie信息
    * 破解验证码
        * 简单的验证码可以使用识图读验证码第三方库
* 解析数据
    * HTML Dom解析
        * 正则匹配，通过正则表达式来匹配想要爬取的数据，如：有些数据不是在html 标签里，而是在html的script 标签的js变量中
        * 使用第三方库解析html dom，如jquery
    * 数据字符串
        * 正则匹配(根据情景使用) 
        * 转 JSON/XML 对象进行解析



### 4. python爬虫

* 涉及模块包
    * 请求
        * `urllib`
        * `requests`
    * 多线程
        * `threading`
    * 正则
        * `re`
    * json解析
        * `json`
    * html dom解析
        * `beautiful soup`
    * lxml
        * xpath
    * 操作浏览器
        * `selenium`
        